# DollarIn$ight ğŸ“ˆ

> AI-powered US Stock Analysis Platform for Korean Investors

## ğŸ¯ í”„ë¡œì íŠ¸ ê°œìš”

DollarInsightëŠ” í•œêµ­ íˆ¬ììë“¤ì„ ìœ„í•œ AI ê¸°ë°˜ ë¯¸êµ­ ì£¼ì‹ ë¶„ì„ í”Œë«í¼ì…ë‹ˆë‹¤. ë‹¤ì–‘í•œ AI í˜ë¥´ì†Œë‚˜(ê°€ì¹˜íˆ¬ìì, ê¸°ìˆ ì  ë¶„ì„ê°€, ë‰´ìŠ¤ ë¶„ì„ê°€ ë“±)ì™€ì˜ ê·¸ë£¹ ì±„íŒ…ì„ í†µí•´ ê°œì¸í™”ëœ íˆ¬ì ì¸ì‚¬ì´íŠ¸ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

- **íŒ€**: SSAFY 13ê¸° ììœ¨í”„ë¡œì íŠ¸ B205íŒ€
- **ê°œë°œ ê¸°ê°„**: 2024.10 ~ 2024.11
- **ì„œë¹„ìŠ¤ URL**: https://k13b205.p.ssafy.io

## âœ¨ ì£¼ìš” ê¸°ëŠ¥

### ğŸ’¬ AI í˜ë¥´ì†Œë‚˜ ì±„íŒ…
- **ë‹¤ì¤‘ í˜ë¥´ì†Œë‚˜ ì‹œìŠ¤í…œ**: ê°€ì¹˜íˆ¬ìì, ê¸°ìˆ ì  ë¶„ì„ê°€, ë‰´ìŠ¤ ë¶„ì„ê°€ ë“± 5ê°€ì§€ AI í˜ë¥´ì†Œë‚˜
- **ì‹¤ì‹œê°„ ê·¸ë£¹ ì±„íŒ…**: SSEë¥¼ í†µí•œ ì‹¤ì‹œê°„ ìŠ¤íŠ¸ë¦¬ë° ì‘ë‹µ
- **ë§ì¶¤í˜• ë¶„ì„**: ì‚¬ìš©ì ì§ˆë¬¸ì— ëŒ€í•œ ê°œì¸í™”ëœ íˆ¬ì ì¡°ì–¸

### ğŸ“Š ì¢…í•© íˆ¬ì ë¶„ì„
- **ì‹¤ì‹œê°„ ì£¼ê°€ ì •ë³´**: ë¯¸êµ­ ì£¼ì‹ ë° ETF ì‹¤ì‹œê°„ ê°€ê²© ë°ì´í„°
- **AI ì£¼ê°€ ì˜ˆì¸¡**: 1ì£¼, 1ê°œì›” ë‹¨ìœ„ ì£¼ê°€ ì˜ˆì¸¡ ëª¨ë¸
- **íˆ¬ì ì§€í‘œ ë¶„ì„**: PER, PBR, ROE ë“± í•µì‹¬ íˆ¬ì ì§€í‘œ
- **ìœ„í—˜ë„ í‰ê°€**: ëª¨ë©˜í…€, ë°¸ë¥˜ì—ì´ì…˜, ì„±ì¥ì„± ê¸°ë°˜ ì¢…í•© ì ìˆ˜

### ğŸ“° ë‰´ìŠ¤ & ì¸ì‚¬ì´íŠ¸
- **ì‹¤ì‹œê°„ ë‰´ìŠ¤**: Investing.com ê¸°ë°˜ ìµœì‹  ê¸ˆìœµ ë‰´ìŠ¤
- **í˜ë¥´ì†Œë‚˜ë³„ í•´ì„**: ê° ë‰´ìŠ¤ì— ëŒ€í•œ ë‹¤ì–‘í•œ ê´€ì ì˜ ë¶„ì„
- **ë°ì¼ë¦¬ í”½**: AIê°€ ì„ ë³„í•œ ì¼ì¼ ì¶”ì²œ ì¢…ëª©

### ğŸ” ì¢…ëª© ê´€ë¦¬
- **ê´€ì‹¬ì¢…ëª©**: ê°œì¸ë³„ í¬íŠ¸í´ë¦¬ì˜¤ ê´€ë¦¬
- **ì¢…ëª© ê²€ìƒ‰**: í‹°ì»¤, íšŒì‚¬ëª… ê¸°ë°˜ í†µí•© ê²€ìƒ‰
- **ìƒì„¸ ë¶„ì„**: ê¸°ì—…ë³„ ì¢…í•© ë¶„ì„ ë¦¬í¬íŠ¸

## ğŸ— ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

![ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜](./assets/ì‹œìŠ¤í…œì•„í‚¤í…ì²˜.png)

### ê¸°ìˆ  ìŠ¤íƒ

#### Frontend
- **Flutter**: í¬ë¡œìŠ¤ í”Œë«í¼ ëª¨ë°”ì¼ ì•±
- **Dart**: ê°œë°œ ì–¸ì–´
- **Provider**: ìƒíƒœ ê´€ë¦¬

#### Backend
- **Spring Boot**: RESTful API ì„œë²„
- **Spring Security**: ì¸ì¦/ì¸ê°€ (JWT)
- **JPA/Hibernate**: ORM
- **FastAPI**: AI ì„œë¹„ìŠ¤ API

#### Database
- **PostgreSQL**: ì‚¬ìš©ì, ì¸ì¦, ê´€ì‹¬ì¢…ëª© ë°ì´í„°
- **MongoDB**: ì±„íŒ… ë©”ì‹œì§€, ë‰´ìŠ¤ ë°ì´í„°
- **ChromaDB**: ë²¡í„° ì„ë² ë”©, ìœ ì‚¬ë„ ê²€ìƒ‰

#### Infrastructure
- **AWS EC2**: ì„œë²„ í˜¸ìŠ¤íŒ…
- **Docker & Docker Compose**: ì»¨í…Œì´ë„ˆí™”
- **Jenkins**: CI/CD íŒŒì´í”„ë¼ì¸
- **Nginx**: ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ, SSL í„°ë¯¸ë„¤ì´ì…˜
- **Let's Encrypt**: SSL ì¸ì¦ì„œ


## ğŸ› ï¸ ì£¼ìš” ì‚¬ìš© ê¸°ìˆ 

### ì‹¤ì‹œê°„ SSE í†µì‹ 

  ![SSE í†µì‹  í”Œë¡œìš°](./assets/SSE_flow.png)

DollarInsightëŠ” **3ê³„ì¸µ SSE(Server-Sent Events) ìŠ¤íŠ¸ë¦¬ë°**ìœ¼ë¡œ AI í† ë¡  ë‚´ìš©ì„ ì‹¤ì‹œê°„ ì „ë‹¬í•©ë‹ˆë‹¤:

```
Flutter (EventSource) â‡„ Spring Boot (ì¤‘ê³„) â‡„ FastAPI (AI í† ë¡ )
```

**í•µì‹¬ ê¸°ëŠ¥**:
- **ì‹¤ì‹œê°„ ìŠ¤íŠ¸ë¦¬ë°**: AI í† ë¡ ì´ ìƒì„±ë˜ëŠ” ì¦‰ì‹œ ì‚¬ìš©ìì—ê²Œ ì „ë‹¬
- **ì•ˆì •ì  ì¤‘ê³„**: Spring Bootê°€ ì¸ì¦Â·ì„¸ì…˜ ê´€ë¦¬ ë° MongoDB ì €ì¥ ë‹´ë‹¹
- **ì¬ì—°ê²° ë³´ì¥**: Last-Event-ID ê¸°ë°˜ ëˆ„ë½ ë©”ì‹œì§€ ìë™ ë³µêµ¬
- **ë‹¤ì¤‘ ë””ë°”ì´ìŠ¤**: Device ID ê¸°ë°˜ ë…ë¦½ì ì¸ ìŠ¤íŠ¸ë¦¼ ê´€ë¦¬

## ğŸš€ ë¹ ë¥¸ ì‹œì‘

### ì‚¬ì „ ìš”êµ¬ì‚¬í•­
- Docker & Docker Compose
- Node.js 18+
- Flutter SDK
- Java 17+
- Python 3.9+

### ë¡œì»¬ ê°œë°œ í™˜ê²½ ì„¤ì •

1. **ì €ì¥ì†Œ í´ë¡ **
```bash
git clone https://lab.ssafy.com/s13-final/S13P31B205.git
cd S13P31B205
```

2. **í™˜ê²½ ë³€ìˆ˜ ì„¤ì •**
```bash
# ë£¨íŠ¸ í™˜ê²½ ë³€ìˆ˜
cp .env.template .env

# ë°±ì—”ë“œ í™˜ê²½ ë³€ìˆ˜
cp backend/.env.template backend/.env

# AI ì„œë¹„ìŠ¤ í™˜ê²½ ë³€ìˆ˜
cp ai-service/.env.template ai-service/.env

# Flutter í™˜ê²½ ë³€ìˆ˜
cp frontend/.env.template frontend/.env

# ê° .env íŒŒì¼ì„ ì—´ì–´ your-* í”Œë ˆì´ìŠ¤í™€ë”ë¥¼ ì‹¤ì œ ê°’ìœ¼ë¡œ êµì²´
# ìƒì„¸í•œ ì„¤ì • ë°©ë²•ì€ ENV_SETUP_GUIDE.md ì°¸ì¡°
```

3. **Docker ì„œë¹„ìŠ¤ ì‹¤í–‰**
```bash
# ë°ì´í„°ë² ì´ìŠ¤ ë° ì¸í”„ë¼ ì„œë¹„ìŠ¤ ì‹¤í–‰
docker-compose up -d postgres mongodb redis chromadb

# ë°±ì—”ë“œ ì„œë¹„ìŠ¤ ì‹¤í–‰
docker-compose up -d backend ai-service

# nginx í”„ë¡ì‹œ ì‹¤í–‰
docker-compose up -d nginx
```

4. **Flutter ì•± ì‹¤í–‰**
```bash
cd frontend
flutter pub get
flutter run
```

### ê°œë°œìš© í† í° ë°œê¸‰ (ë¡œì»¬ë§Œ)
```bash
curl -X POST "http://localhost:8080/api/public/dev/token" \
  -H "X-Device-Id: dev-device-001" \
  -H "Content-Type: application/json"
```

## ğŸ” ì¸ì¦ & ë³´ì•ˆ

### ì¸ì¦ ë°©ì‹
- **JWT í† í°**: Access Token + Refresh Token
- **ë””ë°”ì´ìŠ¤ ë°”ì¸ë”©**: X-Device-Id í—¤ë” í•„ìˆ˜
- **OAuth ì§€ì›**: Google, Kakao ì†Œì…œ ë¡œê·¸ì¸

### ë³´ì•ˆ ê¸°ëŠ¥
- **HTTPS**: Let's Encrypt SSL ì¸ì¦ì„œ
- **CORS**: í¬ë¡œìŠ¤ ì˜¤ë¦¬ì§„ ìš”ì²­ ì œí•œ
- **Rate Limiting**: API í˜¸ì¶œ ì œí•œ
- **Input Validation**: ìš”ì²­ ë°ì´í„° ê²€ì¦
- **í™˜ê²½ ë³€ìˆ˜ ë³´í˜¸**: `.env` íŒŒì¼ Git ì œì™¸, í…œí”Œë¦¿ë§Œ ê´€ë¦¬

### ğŸ“š ë³´ì•ˆ ì°¸ê³  ë¬¸ì„œ (ì„ íƒì‚¬í•­)
> **Note**: SSAFY í”„ë¡œì íŠ¸ëŠ” êµìœ¡/ì‹œì—° ëª©ì ì´ë¯€ë¡œ ì•„ë˜ ë¬¸ì„œë“¤ì€ **ì°¸ê³ ìš©**ì…ë‹ˆë‹¤.
> ì‹¤ì œ ìƒìš© ì„œë¹„ìŠ¤ ìš´ì˜ ì‹œ ì ìš©í•  ìˆ˜ ìˆëŠ” ëª¨ë²” ì‚¬ë¡€ë¥¼ ë‹´ê³  ìˆìŠµë‹ˆë‹¤.

- **[ENV_SETUP_GUIDE.md](ENV_SETUP_GUIDE.md)**: í™˜ê²½ ë³€ìˆ˜ ì„¤ì • ê°€ì´ë“œ
- **[SECURITY_DEPLOYMENT_GUIDE.md](SECURITY_DEPLOYMENT_GUIDE.md)**: Production ë³´ì•ˆ ë°°í¬ ê°€ì´ë“œ
- **[nginx/conf.d/server-production.conf](nginx/conf.d/server-production.conf)**: Productionìš© Nginx ì„¤ì • ì˜ˆì‹œ
- **[nginx/PRODUCTION_SECURITY.md](nginx/PRODUCTION_SECURITY.md)**: Nginx ë³´ì•ˆ ìƒì„¸ ê°€ì´ë“œ

**í˜„ì¬ í”„ë¡œì íŠ¸ëŠ” ê°œë°œ ì„¤ì •(`server.conf`)ì„ ì‚¬ìš©í•˜ë©°, Swagger UIì™€ Admin Toolsì— ì ‘ê·¼ ê°€ëŠ¥í•©ë‹ˆë‹¤.**

## ğŸ›  ë°°í¬ & ìš´ì˜

### ë°°í¬ ë°©ë²• (deploy.sh ì‚¬ìš© - ê¶Œì¥)

í”„ë¡œì íŠ¸ëŠ” `deploy.sh` ìŠ¤í¬ë¦½íŠ¸ë¥¼ í†µí•´ ê°„í¸í•˜ê²Œ ë°°í¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

#### ì£¼ìš” ë°°í¬ ëª…ë ¹ì–´

```bash
# ì„œë²„ ì ‘ì†
ssh ubuntu@k13b205.p.ssafy.io
cd /opt/S13P31B205

# ì• í”Œë¦¬ì¼€ì´ì…˜ ë°°í¬ (Backend + AI Service + Airflow)
./deploy.sh deploy

# Flutter APK ë¹Œë“œ ë° ë°°í¬
./deploy.sh build-and-deploy-apk

# ì„œë¹„ìŠ¤ ìƒíƒœ í™•ì¸
./deploy.sh status

# ë¡œê·¸ í™•ì¸
./deploy.sh logs backend
./deploy.sh logs ai-service

# íŠ¹ì • ì„œë¹„ìŠ¤ ì¬ì‹œì‘
./deploy.sh restart-service backend

# Health Check
./deploy.sh health
```

#### deploy.sh ì£¼ìš” ê¸°ëŠ¥

- âœ… **ìë™ ë°±ì—…**: ë°°í¬ ì „ ìë™ ë°±ì—… (ìµœëŒ€ 5ê°œ ìœ ì§€)
- âœ… **ì´ë¯¸ì§€ Pull**: Docker Hubì—ì„œ ìµœì‹  ì´ë¯¸ì§€ ìë™ ë‹¤ìš´ë¡œë“œ
- âœ… **ë¬´ì¤‘ë‹¨ ì¬ì‹œì‘**: DB, NginxëŠ” ìœ ì§€í•˜ê³  ì•±ë§Œ ì¬ì‹œì‘
- âœ… **Health Check**: ë°°í¬ í›„ ìë™ ìƒíƒœ í™•ì¸
- âœ… **Rollback**: ë¬¸ì œ ë°œìƒ ì‹œ ì´ì „ ë²„ì „ìœ¼ë¡œ ë³µêµ¬ ê°€ëŠ¥

ìƒì„¸í•œ ì‚¬ìš©ë²•ì€ [deploy.sh](deploy.sh) íŒŒì¼ ì°¸ì¡°

### CI/CD íŒŒì´í”„ë¼ì¸
1. **Git Push** â†’ GitLab Repository
2. **Webhook** â†’ Jenkins Pipeline
3. **Build & Test** â†’ Docker Image Build
4. **Push** â†’ Docker Hub Registry
5. **Deploy** â†’ `deploy.sh deploy` ì‹¤í–‰ (AWS EC2)
6. **Health Check** â†’ Service Monitoring

### ëª¨ë‹ˆí„°ë§
- **Container Logs**: `./deploy.sh logs [service]`
- **Nginx Logs**: ì•¡ì„¸ìŠ¤ ë¡œê·¸ ë¶„ì„
- **Application Metrics**: Spring Boot Actuator
- **Database Monitoring**: PostgreSQL/MongoDB ìƒíƒœ ì²´í¬
- **Resource Usage**: `./deploy.sh status`

### ë°±ì—… ì „ëµ
- **ìë™ ë°±ì—…**: `deploy.sh`ê°€ ë°°í¬ ì‹œ ìë™ìœ¼ë¡œ ë°±ì—… ìƒì„±
- **ìµœëŒ€ ë³´ê´€**: ìµœê·¼ 5ê°œ ë°±ì—… ìœ ì§€
- **Rollback**: `./deploy.sh rollback`ìœ¼ë¡œ ë³µêµ¬ ê°€ëŠ¥
- **Volume Data**: Docker named volume ë³´ì¡´
- **Configuration**: Git repository ê´€ë¦¬

## ğŸ¤ íŒ€ êµ¬ì„±

![íŒ€êµ¬ì„±](./assets/members.png)

| ì—­í•  | ë‹´ë‹¹ì | ì£¼ìš” ì—…ë¬´ |
|------|--------|-----------|
| **Team Leader & Frontend** | ê¹€ì¤€í˜ | Flutter ì•± ê°œë°œ, UI/UX ì„¤ê³„ |
| **Backend** | ê¹€ë„í›ˆ | Spring Boot API, ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„ |
| **AI Service** | í™©í¬ì¤€ | FastAPI ê°œë°œ, AI ëª¨ë¸ í†µí•© |
| **Frontend** | ì„ì£¼ë¹ˆ | Flutter ê°œë°œ, ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ |
| **PM & Data** | ìœ ê²½ë¯¼ | ë°ì´í„° íŒŒì´í”„ë¼ì¸, ë°±ì—”ë“œ ì§€ì› |
| **Frontend & Infrastructure** | ì„íƒœì› | ì¸í”„ë¼ êµ¬ì¶•, CI/CD, ëª¨ë‹ˆí„°ë§, Flutter ê°œë°œ |

## ğŸ“‚ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
S13P31B205/
â”œâ”€â”€ frontend/                  # Flutter ëª¨ë°”ì¼ ì•±
â”‚   â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ android/
â”‚   â”œâ”€â”€ ios/
â”‚   â”œâ”€â”€ .env.template         # Flutter í™˜ê²½ ë³€ìˆ˜ í…œí”Œë¦¿
â”‚   â””â”€â”€ pubspec.yaml
â”œâ”€â”€ backend/                   # Spring Boot ë°±ì—”ë“œ
â”‚   â”œâ”€â”€ src/main/java/
â”‚   â”œâ”€â”€ src/main/resources/
â”‚   â”œâ”€â”€ .env.template         # Backend í™˜ê²½ ë³€ìˆ˜ í…œí”Œë¦¿
â”‚   â”œâ”€â”€ Dockerfile
â”‚   â””â”€â”€ build.gradle
â”œâ”€â”€ ai-service/               # FastAPI AI ì„œë¹„ìŠ¤
â”‚   â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ .env.template         # AI Service í™˜ê²½ ë³€ìˆ˜ í…œí”Œë¦¿
â”‚   â”œâ”€â”€ requirements.txt
â”‚   â””â”€â”€ Dockerfile
â”œâ”€â”€ nginx/                    # Nginx ì„¤ì •
â”‚   â”œâ”€â”€ conf.d/
â”‚   â”‚   â”œâ”€â”€ server.conf       # í˜„ì¬ ì‚¬ìš© ì¤‘ (ê°œë°œ/ì‹œì—°ìš©)
â”‚   â”‚   â”œâ”€â”€ server-production.conf  # Production ì°¸ê³ ìš©
â”‚   â”‚   â””â”€â”€ security.conf
â”‚   â”œâ”€â”€ PRODUCTION_SECURITY.md  # Nginx ë³´ì•ˆ ê°€ì´ë“œ (ì°¸ê³ ìš©)
â”‚   â””â”€â”€ ssl/
â”œâ”€â”€ docker-compose.yml        # ê°œë°œ í™˜ê²½ êµ¬ì„±
â”œâ”€â”€ deploy.sh                 # ë°°í¬ ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ .env.template            # í™˜ê²½ ë³€ìˆ˜ í…œí”Œë¦¿ (ë£¨íŠ¸)
â”œâ”€â”€ .gitignore               # Git ì œì™¸ íŒŒì¼ ëª©ë¡
â”œâ”€â”€ check-env.sh             # í™˜ê²½ ë³€ìˆ˜ ê²€ì¦ ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ test-security.sh         # ë³´ì•ˆ ì„¤ì • í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ ENV_SETUP_GUIDE.md       # í™˜ê²½ ë³€ìˆ˜ ì„¤ì • ê°€ì´ë“œ
â”œâ”€â”€ SECURITY_DEPLOYMENT_GUIDE.md  # ë³´ì•ˆ ë°°í¬ ê°€ì´ë“œ (ì°¸ê³ ìš©)
â””â”€â”€ README.md                # í”„ë¡œì íŠ¸ ë¬¸ì„œ
```

## ğŸ› íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

### ì¼ë°˜ì ì¸ ë¬¸ì œë“¤

**1. Docker ì»¨í…Œì´ë„ˆ ë„¤íŠ¸ì›Œí‚¹ ì´ìŠˆ**
```bash
# ì»¨í…Œì´ë„ˆ ë„¤íŠ¸ì›Œí¬ í™•ì¸
docker network ls
docker network inspect s13p31b205_default

# ì»¨í…Œì´ë„ˆ ê°„ í†µì‹  í…ŒìŠ¤íŠ¸
docker exec backend ping postgres
```

**2. Jenkins ë¹Œë“œ ì‹¤íŒ¨**
```bash
# Jenkins ë¡œê·¸ í™•ì¸
docker logs jenkins

# ê¶Œí•œ ë¬¸ì œ í•´ê²°
sudo chown -R jenkins:jenkins /var/jenkins_home
```

**3. SSL ì¸ì¦ì„œ ê°±ì‹ **
```bash
# Let's Encrypt ì¸ì¦ì„œ ê°±ì‹ 
sudo certbot renew --nginx
```

**4. ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ë¬¸ì œ**
```bash
# PostgreSQL ì—°ê²° ìƒíƒœ í™•ì¸
docker exec postgres pg_isready -U dollarinsight

# MongoDB ì—°ê²° í™•ì¸
docker exec mongodb mongosh --eval "db.adminCommand('ping')"
```


## ğŸ“„ ë¼ì´ì„ ìŠ¤

ì´ í”„ë¡œì íŠ¸ëŠ” SSAFY(ì‚¼ì„± ì²­ë…„ SW ì•„ì¹´ë°ë¯¸) êµìœ¡ ëª©ì ìœ¼ë¡œ ê°œë°œë˜ì—ˆìŠµë‹ˆë‹¤.

## ğŸ“ ì—°ë½ì²˜

- **í”„ë¡œì íŠ¸**: SSAFY 13ê¸° B205 ììœ¨í”„ë¡œì íŠ¸
- **Git Repository**: https://lab.ssafy.com/s13-final/S13P31B205
- **ì„œë¹„ìŠ¤ URL**: https://k13b205.p.ssafy.io

---

*Made with â¤ï¸ by Team B205*
